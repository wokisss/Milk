{% extends 'base.html' %}
{% block content %}
<h2>收购记录详细信息</h2>

<div class='purchase-details'>
  <div class='detail-section'>
    <h3>牧民信息</h3>
    <div class='detail-row'>
      <strong>姓名：</strong>{{purchase.farmer.name}}
    </div>
    <div class='detail-row'>
      <strong>身份证号：</strong>{{purchase.farmer.id_card}}
    </div>
    <div class='detail-row'>
      <strong>联系方式：</strong>{{purchase.farmer.phone}}
    </div>
    <div class='detail-row'>
      <strong>家庭住址：</strong>{{purchase.farmer.address}}
    </div>
  </div>

  <div class='detail-section'>
    <h3>收购信息</h3>
    <div class='detail-row'>
      <strong>收购数量：</strong>{{purchase.quantity}} kg
    </div>
    <div class='detail-row'>
      <strong>收购单价：</strong>¥{{purchase.price_per_unit}} / kg
    </div>
    <div class='detail-row'>
      <strong>收购总价：</strong>¥{{purchase.total_price}}
    </div>
    <div class='detail-row'>
      <strong>收购地点：</strong>{{purchase.location}}
    </div>
    <div class='detail-row'>
      <strong>收购时间：</strong>{{purchase.created_at.strftime('%Y-%m-%d %H:%M:%S') if purchase.created_at else 'N/A'}}
    </div>
    <div class='detail-row'>
      <strong>备注信息：</strong>{{purchase.note if purchase.note else '无'}}
    </div>
  </div>
</div>

<div class='action-buttons'>
  <a href='/purchase/edit/{{purchase.id}}' class='btn btn-primary'>编辑</a>
  <a href='/purchases' class='btn btn-secondary'>返回列表</a>
  <a href='/farmer/view/{{purchase.farmer.id}}' class='btn btn-info'>查看牧民详情</a>
</div>

<style>
.purchase-details {
  background: #f8f9fa;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 20px;
}

.detail-section {
  background: white;
  padding: 20px;
  border-radius: 6px;
  margin-bottom: 20px;
  border-left: 4px solid #2c7744;
}

.detail-section h3 {
  color: #2c7744;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.detail-row {
  margin-bottom: 12px;
  padding: 8px 0;
  border-bottom: 1px solid #e9ecef;
  display: flex;
  align-items: center;
}

.detail-row:last-child {
  border-bottom: none;
}

.detail-row strong {
  color: #2c7744;
  display: inline-block;
  width: 120px;
  font-weight: 600;
}

.action-buttons {
  margin: 20px 0;
  text-align: center;
}

.action-buttons .btn {
  margin: 0 8px;
}

@media (max-width: 768px) {
  .detail-row {
    flex-direction: column;
    align-items: flex-start;
  }
  
  .detail-row strong {
    width: auto;
    margin-bottom: 5px;
  }
  
  .action-buttons .btn {
    display: block;
    margin: 8px auto;
    width: 200px;
  }
}
</style>
{% endblock %}