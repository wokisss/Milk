{"version":3,"file":"scan.js","sources":["pages/scan/scan.vue","../../../../Hbuilder/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc2Nhbi9zY2FuLnZ1ZQ"],"sourcesContent":["<template>\n  <view class=\"scan-container\">\n    <!-- 顶部导航栏 -->\n    <view class=\"nav-bar\">\n      <view class=\"title\">扫码</view>\n    </view>\n\n    <!-- 模拟扫码区域 -->\n    <view class=\"scan-wrapper\">\n      <view class=\"scan-view\">\n        <!-- 扫码框 -->\n        <view class=\"scan-frame\">\n          <!-- 四个角 -->\n          <view class=\"corner top-left\"></view>\n          <view class=\"corner top-right\"></view>\n          <view class=\"corner bottom-left\"></view>\n          <view class=\"corner bottom-right\"></view>\n          \n          <!-- 扫描线 -->\n          <view class=\"scan-line\" :style=\"{ top: scanLineTop + 'px' }\"></view>\n        </view>\n        \n        <!-- 提示文字 -->\n        <view class=\"scan-tip\">请将二维码/条形码放入框内</view>\n      </view>\n    </view>\n    \n    <!-- 底部操作提示 -->\n    <view class=\"action-tip\">\n      <text>支持识别二维码、条形码</text>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted, onUnmounted } from 'vue';\n\n// 扫描线的位置\nconst scanLineTop = ref(0);\nlet animationTimer = null;\n// 新增：用于跳转的定时器\nlet redirectTimer = null;\n\n// 页面加载时，启动扫描线动画和跳转定时器\nonMounted(() => {\n  startScanAnimation();\n  \n  // 6 秒后自动跳转到 select.vue\n  redirectTimer = setTimeout(() => {\n    uni.navigateTo({\n      url: '/pages/select/select' // 请确保路径正确\n    });\n  }, 3000); // 3000 毫秒 = 3秒\n});\n\n// 页面卸载时，清除所有定时器\nonUnmounted(() => {\n  if (animationTimer) {\n    clearInterval(animationTimer);\n  }\n  if (redirectTimer) {\n    clearTimeout(redirectTimer);\n  }\n});\n\n// 扫描线动画\nconst startScanAnimation = () => {\n  animationTimer = setInterval(() => {\n    scanLineTop.value += 2;\n    if (scanLineTop.value > 200) { // 200是扫码框的高度\n      scanLineTop.value = 0;\n    }\n  }, 30);\n};\n\n// 返回上一页\nconst goBack = () => {\n  uni.navigateBack();\n};\n</script>\n\n<!-- 禁止浏览器滚动 -->\n<style>\n  html,\n  body {\n    height: 100%;\n    overflow: hidden;\n  }\n</style>\n\n<style scoped>\n/* 页面整体背景 */\n.scan-container {\n  width: 100%;\n  height: 100vh;\n  background-color: #000;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  color: #fff;\n  box-sizing: border-box;\n  padding-bottom: 50px;\n}\n\n/* 顶部导航栏 */\n.nav-bar {\n  width: 100%;\n  height: 44px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 16px;\n  box-sizing: border-box;\n}\n\n.back-btn {\n  font-size: 18px;\n}\n\n.title {\n  font-size: 18px;\n  font-weight: bold;\n  position: absolute;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n/* 模拟扫码区域 */\n.scan-wrapper {\n  flex: 1;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding-top: 40px;\n  padding-bottom: 40px;\n}\n\n.scan-view {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n}\n\n/* 扫码框 */\n.scan-frame {\n  width: 200px;\n  height: 200px;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  position: relative;\n  margin-bottom: 20px;\n}\n\n/* 扫码框的四个角 */\n.corner {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  border: 3px solid #1980FF;\n}\n.top-left { top: -3px; left: -3px; border-right: none; border-bottom: none; }\n.top-right { top: -3px; right: -3px; border-left: none; border-bottom: none; }\n.bottom-left { bottom: -3px; left: -3px; border-right: none; border-top: none; }\n.bottom-right { bottom: -3px; right: -3px; border-left: none; border-top: none; }\n\n/* 扫描线 */\n.scan-line {\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #1980FF;\n  transition: top 0.03s linear;\n}\n\n/* 扫码提示文字 */\n.scan-tip {\n  font-size: 14px;\n  color: rgba(255, 255, 255, 0.8);\n}\n\n/* 底部操作提示 */\n.action-tip {\n  padding: 16px;\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.6);\n  text-align: center;\n  width: 100%;\n  box-sizing: border-box;\n  position: absolute;\n  bottom: 0;\n}\n</style>","import MiniProgramPage from 'D:/桌面/研一/软件工程/product-traceability/pages/scan/scan.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","onUnmounted"],"mappings":";;;;;AAsCA,UAAM,cAAcA,cAAAA,IAAI,CAAC;AACzB,QAAI,iBAAiB;AAErB,QAAI,gBAAgB;AAGpBC,kBAAAA,UAAU,MAAM;AACd;AAGA,sBAAgB,WAAW,MAAM;AAC/BC,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA;AAAA,QACX,CAAK;AAAA,MACF,GAAE,GAAI;AAAA,IACT,CAAC;AAGDC,kBAAAA,YAAY,MAAM;AAChB,UAAI,gBAAgB;AAClB,sBAAc,cAAc;AAAA,MAC7B;AACD,UAAI,eAAe;AACjB,qBAAa,aAAa;AAAA,MAC3B;AAAA,IACH,CAAC;AAGD,UAAM,qBAAqB,MAAM;AAC/B,uBAAiB,YAAY,MAAM;AACjC,oBAAY,SAAS;AACrB,YAAI,YAAY,QAAQ,KAAK;AAC3B,sBAAY,QAAQ;AAAA,QACrB;AAAA,MACF,GAAE,EAAE;AAAA,IACP;;;;;;;;;ACxEA,GAAG,WAAW,eAAe;"}